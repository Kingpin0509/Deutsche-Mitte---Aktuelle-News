{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:/webpack/bootstrap 3f95f08a657048ecaace","webpack:/external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}","webpack:///angular/animation.service.ts","webpack:///builder.ts","webpack:///angular/animates.directive.ts","webpack:///index.ts","webpack:///builder/animation_builder.ts","webpack:///angular.ts","webpack:///angular/animator.module.ts"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","core_1","builder_1","AnimationService","builder","AnimationBuilder","__decorate","Injectable","__export","animation_service_1","AnimatesDirective","_elementRef","animationService","_animationBuilder","options","_defaultOptions","_initOptions","mode","_initMode","toLowerCase","ngOnInit","promise","setOptions","show","nativeElement","hide","animate","then","element","error","start","_started","pause","setPlayState","applyPlayState","resume","toggle","playState","stop","startOrStop","Directive","selector","exportAs","inputs","__param","Inject","ElementRef","AnimationMode","animationOptions","assign","defaults","defaultOptions","classes","activeClasses","Map","listeners","timeouts","styles","log","Show","Hide","reset","removeTimeouts","removeListeners","Promise","resolve","_this","Animate","hideElement","reject","delay","setTimeout","registerAnimationListeners","saveStyle","saveClasses","pinElement","nextFrame","showElement","applyProperties","addTimeout","removePending","rejectTimeouts","rejectListeners","removeStyles","removeClasses","dispose","forEach","refs","_i","refs_1","length","t","clearTimeout","timeout","el","refs_2","removeEventListener","eventName","handler","addAnimationClass","indexOf","push","removeAnimationClass","index","splice","values","arguments","DEBUG","console","apply","concat","fn","raf","camelCase","input","replace","match","group","toUpperCase","useVisibility","style","visibility","setAttribute","pin","removeAttribute","position","getPosition","fixed","top","left","width","height","margin","rect","getBoundingClientRect","cs","window","getComputedStyle","offsetLeft","offsetTop","parseFloat","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","scrollX","scrollY","startHandler","animationStartEvent","animationEndEvent","addEventListener","endHandler","addListener","has","set","ref","delete","document","createElement","animations","animation","OAnimation","MozAnimation","WebkitAnimation","undefined","applyClasses","applyStyles","getPropertyValue","applyFillMode","applyTimingFunction","applyDirection","applyDuration","applyIterationCount","setProperty","slice","type","active","_a","classList","add","remove","applyStyle","prop","value","standard","webkit","mozilla","opera","explorer","setDefaults","setPin","setUseVisibility","setType","fillMode","setFillMode","timingFunction","setTimingFunction","direction","setDirection","duration","setDuration","setDelay","applyDelayAsStyle","iterationCount","setIterationCount","requestAnimationFrame","bind","animates_directive_1","AnimatorModule","NgModule","declarations","providers"],"mappings":"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","file":"css-animator.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"css-animator\", [\"@angular/core\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"css-animator\"] = factory(require(\"@angular/core\"));\n\telse\n\t\troot[\"css-animator\"] = factory(root[\"ng\"][\"core\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3f95f08a657048ecaace","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":[\"ng\",\"core\"],\"commonjs\":\"@angular/core\",\"commonjs2\":\"@angular/core\",\"amd\":\"@angular/core\"}\n// module id = 0\n// module chunks = 0","import { Injectable } from '@angular/core';\nimport { AnimationBuilder } from '../builder';\n\n@Injectable()\nexport class AnimationService {\n\n  public builder(): AnimationBuilder {\n    return new AnimationBuilder();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// angular/animation.service.ts","export * from './builder/animation_builder';\n\n\n\n// WEBPACK FOOTER //\n// builder.ts","import { Directive, Inject, ElementRef, OnInit } from '@angular/core';\nimport { AnimationService } from './animation.service';\nimport { AnimationBuilder } from '../builder';\nimport { AnimationOptions } from '../contracts';\n\n@Directive({\n  selector: '[animates]',\n  exportAs: 'animates',\n  inputs: [\n    'animates',\n    'animatesOnInit',\n    'animatesInitMode'\n  ]\n})\nexport class AnimatesDirective implements OnInit {\n  private _defaultOptions: AnimationOptions;\n  private _initOptions: AnimationOptions;\n  private _initMode: string;\n\n  private _animationBuilder: AnimationBuilder;\n  private _started: boolean;\n\n  set animates(options: AnimationOptions) {\n    this._defaultOptions = options;\n  }\n\n  set animatesOnInit(options: AnimationOptions) {\n    this._initOptions = options;\n  }\n\n  set animatesInitMode(mode: string) {\n    if (typeof mode === 'string') {\n      this._initMode = mode.toLowerCase();\n    }\n  }\n\n  get animationBuilder(): AnimationBuilder {\n    return this._animationBuilder;\n  }\n\n  constructor( @Inject(ElementRef) private _elementRef: ElementRef, @Inject(AnimationService) animationService: AnimationService) {\n    this._animationBuilder = animationService.builder();\n  }\n\n  public ngOnInit() {\n    if (!this._initOptions) {\n      return;\n    }\n\n    let promise: Promise<HTMLElement>;\n    let builder = this._animationBuilder\n      .setOptions(this._initOptions);\n\n    switch (this._initMode) {\n      case 'show':\n        promise = builder.show(this._elementRef.nativeElement);\n        break;\n      case 'hide':\n        promise = builder.hide(this._elementRef.nativeElement);\n        break;\n      default:\n        promise = builder.animate(this._elementRef.nativeElement);\n    }\n\n    promise.then((element: HTMLElement) => element, (error: string) => {\n      // Animation interrupted\n    });\n  }\n\n  public start(options?: AnimationOptions): Promise<void | HTMLElement> {\n    this._started = true;\n    this.setOptions(options);\n\n    return this._animationBuilder\n      .animate(this._elementRef.nativeElement)\n      .then((element: HTMLElement) => element, (error: string) => {\n        // Animation interrupted\n      });\n  }\n\n  public hide(options?: AnimationOptions): Promise<void | HTMLElement> {\n    this.setOptions(options);\n\n    return this._animationBuilder\n      .setOptions(options)\n      .hide(this._elementRef.nativeElement)\n      .then((element: HTMLElement) => element, (error: string) => {\n        // Animation interrupted\n      });\n  }\n\n  public show(options?: AnimationOptions): Promise<void | HTMLElement> {\n    this.setOptions(options);\n\n    return this._animationBuilder\n      .show(this._elementRef.nativeElement)\n      .then((element: HTMLElement) => element, (error: string) => {\n        // Animation interrupted\n      });\n  }\n\n  public animate(options?: AnimationOptions) {\n    this.setOptions(options);\n\n    return this._animationBuilder\n      .setOptions(this._defaultOptions)\n      .animate(this._elementRef.nativeElement)\n      .then((element: HTMLElement) => element, (error: string) => {\n        // Animation interrupted\n      });\n  }\n\n  public pause() {\n    if (!this._started) return;\n\n    this._animationBuilder\n      .setPlayState('paused')\n      .applyPlayState(this._elementRef.nativeElement);\n  }\n\n  public resume() {\n    if (!this._started) return;\n\n    this._animationBuilder\n      .setPlayState('running')\n      .applyPlayState(this._elementRef.nativeElement);\n  }\n\n  public toggle() {\n    if (!this._started) return;\n\n    this._animationBuilder\n      .setPlayState(this._animationBuilder.playState === 'running' ? 'paused' : 'running')\n      .applyPlayState(this._elementRef.nativeElement);\n  }\n\n  public stop() {\n    this._started = false;\n    this._animationBuilder\n      .stop(this._elementRef.nativeElement)\n      .then((element) => element, (error) => {\n        // Animation interrupted\n      });\n  }\n\n  public startOrStop(options?: AnimationOptions) {\n    if (!this._started) {\n      this.start(options);\n      return;\n    }\n\n    this.stop();\n  }\n\n  private setOptions(options: AnimationOptions) {\n    if (options) {\n      this._animationBuilder.setOptions(options);\n      return;\n    }\n\n    this._animationBuilder.setOptions(this._defaultOptions);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// angular/animates.directive.ts","export * from './builder';\nexport * from './angular';\nexport * from './contracts';\n\n\n\n// WEBPACK FOOTER //\n// index.ts","import { AnimationOptions, ElementProps, ListenerRef, TimeoutRef, } from '../contracts';\n\nexport enum AnimationMode {\n  Animate,\n  Show,\n  Hide,\n};\n\nexport class AnimationBuilder {\n\n  public static DEBUG: boolean = false;\n\n  public static readonly defaults: AnimationOptions = {\n    fixed: false,\n    reject: true,\n    useVisibility: false,\n    pin: true,\n    type: 'bounce',\n    fillMode: 'none',\n    timingFunction: 'ease',\n    playState: 'running',\n    direction: 'normal',\n    duration: 1000,\n    delay: 0,\n    iterationCount: 1,\n  };\n\n  private static raf: Function = window.requestAnimationFrame\n    ? window.requestAnimationFrame.bind(window)\n    : setTimeout;\n\n  private animationOptions: AnimationOptions;\n  private defaultOptions: AnimationOptions;\n\n  private classes: string[];\n  private activeClasses: Map<HTMLElement, string[]>;\n  private listeners: Map<HTMLElement, ListenerRef[]>;\n  private timeouts: Map<HTMLElement, TimeoutRef[]>;\n  private styles: Map<HTMLElement, CSSStyleDeclaration>;\n\n  // Public Methods\n\n  constructor() {\n    this.animationOptions = Object.assign(\n      {}, AnimationBuilder.defaults,\n    );\n\n    this.defaultOptions = Object.assign(\n      {}, this.animationOptions,\n    );\n\n    this.classes = [];\n    this.activeClasses = new Map<HTMLElement, string[]>();\n    this.listeners = new Map<HTMLElement, ListenerRef[]>();\n    this.timeouts = new Map<HTMLElement, TimeoutRef[]>();\n    this.styles = new Map<HTMLElement, CSSStyleDeclaration>();\n    this.log('AnimationBuilder created.');\n  }\n\n  public show(element: HTMLElement): Promise<HTMLElement> {\n    return this.animate(element, AnimationMode.Show);\n  }\n\n  public hide(element: HTMLElement): Promise<HTMLElement> {\n    return this.animate(element, AnimationMode.Hide);\n  }\n\n  public stop(element: HTMLElement, reset = true): Promise<HTMLElement> {\n    this.removeTimeouts(element);\n    this.removeListeners(element);\n    if (reset) this.reset(element, false);\n    return Promise.resolve<HTMLElement>(element);\n  }\n\n  public animate(element: HTMLElement, mode = AnimationMode.Animate): Promise<HTMLElement> {\n    if (mode === AnimationMode.Show) {\n      this.hideElement(element);\n    }\n\n    return new Promise<HTMLElement>((resolve: Function, reject: Function) => {\n      this.removeTimeouts(element);\n\n      const delay = setTimeout(() => {\n        this.reset(element, true, false, true);\n        this.registerAnimationListeners(element, mode, resolve, reject);\n        this.saveStyle(element);\n        this.saveClasses(element, mode)\n        this.pinElement(element, mode);\n\n        this.nextFrame(() => {\n          this.showElement(element, mode);\n          this.applyProperties(element, mode);\n        });\n      }, this.animationOptions.delay);\n\n      this.addTimeout(element, delay, reject);\n      this.log(`Timeout ${delay} registered for element`, element);\n    });\n  }\n\n  public reset(element: HTMLElement, removePending = true, rejectTimeouts = false, rejectListeners = false): void {\n    if (removePending) {\n      this.removeTimeouts(element, rejectTimeouts);\n      this.removeListeners(element, rejectListeners);\n    }\n\n    this.removeStyles(element);\n    this.removeClasses(element);\n  }\n\n  public dispose(): void {\n    this.timeouts.forEach(refs => {\n      for (let t of refs) {\n        clearTimeout(t.timeout);\n      }\n    });\n\n    this.listeners.forEach((refs, el) => {\n      for (let l of refs) {\n        el.removeEventListener(l.eventName, l.handler);\n      }\n    });\n\n    this.classes = [];\n    this.styles = new Map<HTMLElement, CSSStyleDeclaration>();\n    this.timeouts = new Map<HTMLElement, TimeoutRef[]>();\n    this.listeners = new Map<HTMLElement, ListenerRef[]>();\n  }\n\n  public addAnimationClass(name: string): AnimationBuilder {\n    if (this.classes.indexOf(name) === -1) {\n      this.classes.push(name);\n    }\n\n    return this;\n  }\n\n  public removeAnimationClass(name: string): AnimationBuilder {\n    let index = this.classes.indexOf(name);\n\n    if (index !== -1) {\n      this.classes.splice(index, 1);\n    }\n\n    return this;\n  }\n\n  // Private Methods\n\n  private log(...values: any[]): void {\n    if (AnimationBuilder.DEBUG) {\n      console.log('css-animator:', ...values);\n    }\n  }\n\n  private nextFrame(fn: Function): void {\n    AnimationBuilder.raf(() => {\n      AnimationBuilder.raf(fn);\n    });\n  }\n\n  private camelCase(input: string): string {\n    return input.toLowerCase().replace(/-(.)/g, (match, group) => {\n      return group.toUpperCase();\n    });\n  }\n\n  private hideElement(element: HTMLElement, mode?: AnimationMode): void {\n    if (this.animationOptions.useVisibility) {\n      element.style.visibility = 'hidden';\n      return;\n    }\n\n    element.setAttribute('hidden', '');\n  }\n\n  private showElement(element: HTMLElement, mode?: AnimationMode): void {\n    if (this.animationOptions.pin && mode === AnimationMode.Show) {\n      element.style.visibility = 'visible';\n    }\n\n    if (this.animationOptions.useVisibility) {\n      element.style.visibility = 'visible';\n      return;\n    }\n\n    element.removeAttribute('hidden');\n  }\n\n  private pinElement(element: HTMLElement, mode: AnimationMode): void {\n    if (!this.animationOptions.pin) return;\n\n    if (mode === AnimationMode.Show) {\n      element.style.visibility = 'hidden';\n    }\n\n    if (!this.animationOptions.useVisibility) {\n      this.showElement(element);\n    }\n\n    const position = this.getPosition(element);\n\n    element.style.position = this.animationOptions.fixed ? 'fixed' : 'absolute';\n    element.style.top = `${position.top}px`;\n    element.style.left = `${position.left}px`;\n    element.style.width = `${position.width}px`;\n    element.style.height = `${position.height}px`;\n    element.style.margin = '0px';\n  }\n\n  private getPosition(element: HTMLElement): { left: number, top: number, width: number, height: number } {\n    const rect = element.getBoundingClientRect();\n    const cs = window.getComputedStyle(element);\n\n    let left = element.offsetLeft;\n    let top = element.offsetTop;\n\n    let width = rect.width -\n      parseFloat(cs.paddingLeft) - parseFloat(cs.paddingRight) -\n      parseFloat(cs.borderLeftWidth) - parseFloat(cs.borderRightWidth);\n\n    let height = rect.height -\n      parseFloat(cs.paddingTop) - parseFloat(cs.paddingBottom) -\n      parseFloat(cs.borderTopWidth) - parseFloat(cs.borderBottomWidth);\n\n    if (this.animationOptions.fixed) {\n      left = rect.left + window.scrollX;\n      top = rect.top + window.scrollY;\n    }\n\n    return { left, top, width, height };\n  }\n\n  private registerAnimationListeners(element: HTMLElement, mode: AnimationMode, resolve: Function, reject: Function): void {\n    const animationStartEvent = this.animationStartEvent(element);\n    const animationEndEvent = this.animationEndEvent(element);\n\n    let startHandler: () => any;\n    element.addEventListener(animationStartEvent, startHandler = () => {\n      this.log(`Animation start handler fired for element`, element);\n      element.removeEventListener(animationStartEvent, startHandler);\n      return startHandler;\n    });\n\n    this.log(`Registered animation start listener for element`, element);\n\n    let endHandler: () => any;\n    element.addEventListener(animationEndEvent, endHandler = () => {\n      this.log(`Animation end handler fired for element`, element);\n      element.removeEventListener(animationEndEvent, endHandler);\n      this.removeListeners(element, false);\n      this.reset(element, true, false, false);\n      if (mode === AnimationMode.Hide) this.hideElement(element);\n      if (mode === AnimationMode.Show) this.showElement(element);\n      resolve(element);\n      return endHandler;\n    });\n\n    this.log(`Registered animation end listener for element`, element);\n\n    this.addListener(element, animationStartEvent, startHandler);\n    this.addListener(element, animationEndEvent, endHandler, reject);\n  }\n\n  private addTimeout(element: HTMLElement, timeout: number, reject?: Function): void {\n    if (!this.timeouts.has(element)) {\n      this.timeouts.set(element, []);\n    }\n\n    this.timeouts.get(element).push({\n      timeout,\n      reject,\n    });\n  }\n\n  private addListener(element: HTMLElement, eventName: string, handler: () => any, reject?: Function): void {\n    if (!this.listeners.has(element)) {\n      this.listeners.set(element, []);\n    }\n\n    const classes = Object.assign({}, this.classes);\n\n    this.listeners.get(element).push({\n      eventName,\n      handler,\n      reject,\n      classes,\n    });\n  }\n\n  private removeListeners(element: HTMLElement, reject = false): void {\n    if (!this.listeners.has(element)) return;\n\n    this.listeners.get(element)\n      .forEach(ref => {\n        element.removeEventListener(ref.eventName, ref.handler);\n        this.log(`Listener ${ref.eventName} removed for element`, element);\n        if (reject && this.animationOptions.reject && ref.reject) ref.reject('animation_aborted');\n      });\n\n    this.listeners.delete(element);\n  }\n\n  private removeTimeouts(element: HTMLElement, reject = false): void {\n    if (!this.timeouts.has(element)) return;\n\n    this.timeouts.get(element)\n      .forEach(ref => {\n        clearTimeout(ref.timeout);\n        this.log(`Timeout ${ref.timeout} removed for element`, element);\n        if (reject && this.animationOptions.reject && ref.reject) ref.reject('animation_aborted');\n      });\n\n    this.timeouts.delete(element);\n  }\n\n  private animationEndEvent(element: HTMLElement): string {\n    let el = document.createElement('endAnimationElement');\n\n    let animations: { [key: string]: string } = {\n      animation: 'animationend',\n      OAnimation: 'oAnimationEnd',\n      MozAnimation: 'animationend',\n      WebkitAnimation: 'webkitAnimationEnd',\n    };\n\n    for (let animation in animations) {\n      if (el.style[animation] !== undefined) {\n        return animations[animation];\n      }\n    }\n\n    return null;\n  }\n\n  private animationStartEvent(element: HTMLElement): string {\n    let el = document.createElement('startAnimationElement');\n\n    let animations: { [key: string]: string } = {\n      animation: 'animationstart',\n      OAnimation: 'oAnimationStart',\n      MozAnimation: 'animationstart',\n      WebkitAnimation: 'webkitAnimationStart',\n    };\n\n    for (let animation in animations) {\n      if (el.style[animation] !== undefined) {\n        return animations[animation];\n      }\n    }\n\n    return null;\n  }\n\n  private applyProperties(element: HTMLElement, mode?: AnimationMode): void {\n    this.applyClasses(element, mode);\n    this.applyStyles(element, mode);\n  }\n\n  private saveStyle(element: HTMLElement): void {\n    const styles: any = {};\n\n    for (let style in element.style) {\n      styles[style] = element.style.getPropertyValue(style)\n    }\n\n    this.styles.set(element, styles);\n  }\n\n  private applyStyles(element: HTMLElement, mode?: AnimationMode): void {\n    this.applyFillMode(element);\n    this.applyTimingFunction(element);\n    this.applyPlayState(element);\n    this.applyDirection(element);\n    this.applyDuration(element);\n    this.applyIterationCount(element);\n  }\n\n  private removeStyles(element: HTMLElement): void {\n    if (!this.styles.has(element)) return;\n\n    const styles = this.styles.get(element);\n    element.removeAttribute('style');\n\n    for (let style in styles) {\n      element.style.setProperty(style, styles[style]);\n    }\n\n    this.styles.delete(element);\n  }\n\n  private saveClasses(element: HTMLElement, mode: AnimationMode): void {\n    const classes = this.classes.slice(0);\n\n    switch (mode) {\n      case AnimationMode.Show:\n        classes.push('animated-show');\n        break;\n      case AnimationMode.Hide:\n        classes.push('animated-hide');\n        break;\n    }\n\n    classes.push('animated', this.animationOptions.type);\n    this.activeClasses.set(element, classes);\n  }\n\n  private applyClasses(element: HTMLElement, mode?: AnimationMode): void {\n    const active = this.activeClasses.get(element) || [];\n\n    element.classList.add(\n      'animated',\n      ...active,\n    );\n  }\n\n  private removeClasses(element: HTMLElement): void {\n    const active = this.activeClasses.get(element) || [];\n\n    element.classList.remove(\n      'animated',\n      'animated-show',\n      'animated-hide',\n      ...active,\n    );\n\n    this.activeClasses.delete(element);\n  }\n\n  private applyStyle(element: HTMLElement, prop: string, value: string | number | boolean) {\n    let el = document.createElement('checkStyle');\n\n    let styles: { [key: string]: string } = {\n      standard: this.camelCase(prop),\n      webkit: this.camelCase(`-webkit-${prop}`),\n      mozilla: this.camelCase(`-moz-${prop}`),\n      opera: this.camelCase(`-o-${prop}`),\n      explorer: this.camelCase(`-ie-${prop}`),\n    };\n\n    for (let style in styles) {\n      if (!styles.hasOwnProperty(style)) continue;\n      if (el.style[styles[style]] !== undefined) {\n        element.style[styles[style]] = value === undefined || value === null ? null : value;\n        break;\n      }\n    }\n\n    return this;\n  }\n\n  // Getters and Setters\n\n  get defaults(): AnimationOptions {\n    return this.defaultOptions;\n  }\n\n  set defaults(defaults: AnimationOptions) {\n    this.defaultOptions = defaults;\n  }\n\n  public setDefaults(defaults: AnimationOptions): AnimationBuilder {\n    this.defaults = defaults;\n    return this;\n  }\n\n  get options(): AnimationOptions {\n    return this.animationOptions;\n  }\n\n  set options(options: AnimationOptions) {\n    this.animationOptions = options;\n  }\n\n  public setOptions(options: AnimationOptions): AnimationBuilder {\n    Object.assign(this.options, options);\n    return this;\n  }\n\n  get reject(): boolean {\n    return this.animationOptions.reject;\n  }\n\n  set reject(reject: boolean) {\n    this.animationOptions.reject = reject;\n  }\n\n  get pin(): boolean {\n    return this.animationOptions.pin;\n  }\n\n  set pin(pin: boolean) {\n    this.animationOptions.pin = pin;\n  }\n\n  public setPin(pin: boolean): AnimationBuilder {\n    this.pin = pin;\n    return this;\n  }\n\n  get useVisibility(): boolean {\n    return this.animationOptions.useVisibility;\n  }\n\n  set useVisibility(useVisibility: boolean) {\n    this.animationOptions.useVisibility = useVisibility;\n  }\n\n  public setUseVisibility(useVisibility: boolean): AnimationBuilder {\n    this.useVisibility = useVisibility;\n    return this;\n  }\n\n  get type(): string {\n    return this.animationOptions.type;\n  }\n\n  set type(type: string) {\n    this.animationOptions.type = type;\n  }\n\n  public setType(type: string): AnimationBuilder {\n    this.type = type;\n    return this;\n  }\n\n  get fillMode(): string {\n    return this.animationOptions.fillMode;\n  }\n\n  set fillMode(fillMode: string) {\n    this.animationOptions.fillMode = fillMode;\n  }\n\n  public setFillMode(fillMode: string): AnimationBuilder {\n    this.fillMode = fillMode;\n    return this;\n  }\n\n  public applyFillMode(element: HTMLElement, fillMode?: string): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-fill-mode',\n      fillMode || this.animationOptions.fillMode,\n    );\n\n    return this;\n  }\n\n  get timingFunction(): string {\n    return this.animationOptions.timingFunction;\n  }\n\n  set timingFunction(timingFunction: string) {\n    this.animationOptions.timingFunction = timingFunction;\n  }\n\n  public setTimingFunction(timingFunction: string): AnimationBuilder {\n    this.timingFunction = timingFunction;\n    return this;\n  }\n\n  public applyTimingFunction(element: HTMLElement, timingFunction?: string): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-timing-function',\n      timingFunction || this.animationOptions.timingFunction\n    );\n\n    return this;\n  }\n\n  get playState(): string {\n    return this.animationOptions.playState;\n  }\n\n  set playState(playState: string) {\n    this.animationOptions.playState = playState;\n  }\n\n  public setPlayState(playState: string): AnimationBuilder {\n    this.playState = playState;\n    return this;\n  }\n\n  public applyPlayState(element: HTMLElement, playState?: string): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-play-state',\n      playState || this.animationOptions.playState,\n    );\n\n    return this;\n  }\n\n  get direction(): string {\n    return this.animationOptions.direction;\n  }\n\n  set direction(direction: string) {\n    this.animationOptions.direction = direction;\n  }\n\n  public setDirection(direction: string): AnimationBuilder {\n    this.direction = direction;\n    return this;\n  }\n\n  public applyDirection(element: HTMLElement, direction?: string): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-direction',\n      direction || this.animationOptions.direction,\n    );\n\n    return this;\n  }\n\n  get duration(): number {\n    return this.animationOptions.duration;\n  }\n\n  set duration(duration: number) {\n    this.animationOptions.duration = duration;\n  }\n\n  public setDuration(duration: number): AnimationBuilder {\n    this.duration = duration;\n    return this;\n  }\n\n  public applyDuration(element: HTMLElement, duration?: number): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-duration',\n      `${duration || this.animationOptions.duration}ms`,\n    );\n\n    return this;\n  }\n\n  get delay(): number {\n    return this.animationOptions.delay;\n  }\n\n  set delay(delay: number) {\n    this.animationOptions.delay = delay;\n  }\n\n  public setDelay(delay: number): AnimationBuilder {\n    this.delay = delay;\n    return this;\n  }\n\n  public applyDelayAsStyle(element: HTMLElement, delay?: number): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-delay',\n      `${delay || this.animationOptions.delay}ms`,\n    );\n\n    return this;\n  }\n\n  get iterationCount(): number | string {\n    return this.animationOptions.iterationCount;\n  }\n\n  set iterationCount(iterationCount: number | string) {\n    this.animationOptions.iterationCount = iterationCount;\n  }\n\n  public setIterationCount(iterationCount: number | string): AnimationBuilder {\n    this.iterationCount = iterationCount;\n    return this;\n  }\n\n  public applyIterationCount(element: HTMLElement, iterationCount?: number | string): AnimationBuilder {\n    this.applyStyle(\n      element,\n      'animation-iteration-count',\n      iterationCount || this.animationOptions.iterationCount,\n    );\n\n    return this;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// builder/animation_builder.ts","export * from './angular/animator.module';\nexport * from './angular/animates.directive';\nexport * from './angular/animation.service';\n\n\n\n// WEBPACK FOOTER //\n// angular.ts","import { NgModule } from '@angular/core';\nimport { AnimatesDirective } from './animates.directive';\nimport { AnimationService } from './animation.service';\n\n@NgModule({\n  declarations: [\n    AnimatesDirective\n  ],\n  exports: [\n    AnimatesDirective\n  ],\n  providers: [\n    AnimationService\n  ]\n})\nexport class AnimatorModule { }\n\n\n\n// WEBPACK FOOTER //\n// angular/animator.module.ts"]}